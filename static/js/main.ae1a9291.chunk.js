(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{68:function(e,t,a){e.exports=a(97)},97:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(9),c=a.n(s),o=a(30),i=a(15),l=a.n(i),u=a(23),m=a(34),p=a(125),d=a(132),f=a(133),v=a(134),b=a(130),h=a(131),g=a(139),E=a(135),y=a(136),j=a(142),x=a(137),O=Object(p.a)((function(e){return Object(j.a)({root:{"& > *":{margin:e.spacing(1),width:"25ch"}}})})),w=function(e){var t=e.onChange,a=e.value,r=O();return n.a.createElement("form",{className:r.root,noValidate:!0,autoComplete:"off"},n.a.createElement(x.a,{value:a,onChange:t,id:"standard-basic",label:"Search"}))},k=a(128),C=a(129),_=Object(p.a)({root:{minWidth:275}}),P=function(e){var t=e.children,a=_();return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,{className:a.root},n.a.createElement(C.a,null,t)))},q=a(58),R=a(138),N=function(e){var t=e.children,a=e.value,r=e.index,s=Object(q.a)(e,["children","value","index"]);return n.a.createElement(b.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},s),a===r&&n.a.createElement(R.a,{p:3},t))},S=a(140),M=Object(p.a)((function(){return{ellipsis:{}}})),B=function(e){var t=e.list,a=M();return n.a.createElement(h.a,{container:!0,spacing:3},t.length?t.map((function(e){return n.a.createElement(h.a,{key:e.id,item:!0,xs:12,sm:4},n.a.createElement(P,null,n.a.createElement(S.a,{color:"primary",label:"".concat(e.title)}),n.a.createElement(b.a,{className:a.ellipsis},e.overview)))})):"no result")},D=Object(p.a)((function(){return{moviesContainer:{margin:"5px 5px 5px 0"},movie:{marginRight:"2px",marginBottom:"4px"}}})),W=function(e){var t=e.list,a=D();return n.a.createElement(h.a,{container:!0,spacing:3},t.length?t.map((function(e){return n.a.createElement(h.a,{key:e.id,item:!0,xs:12,sm:4},n.a.createElement(P,null,n.a.createElement(h.a,{container:!0},n.a.createElement(h.a,{container:!0,item:!0,xs:12,justify:"center"},n.a.createElement(b.a,{variant:"h5"},e.name)),n.a.createElement(h.a,{item:!0,xs:12},n.a.createElement(S.a,{color:"secondary",size:"small",label:"Movies"})),n.a.createElement(h.a,{item:!0,xs:12,className:a.moviesContainer},e.known_for.map((function(e){return n.a.createElement(S.a,{className:a.movie,key:e.id,color:"default",size:"small",label:e.original_title?e.original_title:e.original_name})}))))))})):"No results found")},z=a(12),F=a(25),J=z.type({title:z.string,overview:z.string}),T=z.array(J),A=z.type({results:T}),I=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/upcoming?api_key=".concat("98478b61c7e83715d46ed20105c26e93"));case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.next=9,F.decode(A,a);case 9:return r=e.sent,e.abrupt("return",Promise.resolve({response:"success",message:"data fetched successfully",payload:r.results}));case 13:if(e.prev=13,e.t0=e.catch(0),!F.isDecodeError(e.t0)){e.next=19;break}return e.abrupt("return",Promise.reject({response:"error",message:"Request failed due to invalid data.",payload:[]}));case 19:return e.abrupt("return",Promise.reject({response:"error",message:"Request failed due to internal server error",payload:[]}));case 20:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,r,n,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"all",e.prev=1,e.next=4,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("98478b61c7e83715d46ed20105c26e93","&query=").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.next=10,F.decode(A,r);case 10:return n=e.sent,e.abrupt("return",Promise.resolve({response:"success",message:"data fetched successfully",payload:n.results}));case 14:if(e.prev=14,e.t0=e.catch(1),!F.isDecodeError(e.t0)){e.next=20;break}return e.abrupt("return",Promise.resolve({response:"error",message:"Request failed due to invalid data.",payload:[]}));case 20:return e.abrupt("return",Promise.resolve({response:"error",message:"Request failed due to internal server error",payload:[]}));case 21:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),$=z.type({id:z.number}),G=z.partial({original_title:z.string,original_name:z.string}),H=z.array(z.intersection([$,G])),K=z.type({name:z.string,known_for:H}),L=z.array(K),Q=z.type({results:L}),U=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/search/person?api_key=".concat("98478b61c7e83715d46ed20105c26e93","&query=").concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.next=9,F.decode(Q,r);case 9:return n=e.sent,e.abrupt("return",Promise.resolve({response:"success",message:"data fetched successfully",payload:n.results}));case 13:if(e.prev=13,e.t0=e.catch(0),console.log("error",e.t0),!F.isDecodeError(e.t0)){e.next=20;break}return e.abrupt("return",Promise.resolve({response:"error",message:"Request failed due to invalid data.",payload:[]}));case 20:return e.abrupt("return",Promise.resolve({response:"error",message:"Request failed due to internal server error",payload:[]}));case 21:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),X=function(e,t){var a=Object(r.useState)(e),n=Object(m.a)(a,2),s=n[0],c=n[1];return Object(r.useEffect)((function(){var a=setTimeout((function(){c(e)}),t);return function(){clearTimeout(a)}}),[e]),s},Y=0,Z=1,ee=function(e){return{id:"tab-".concat(e)}},te=Object(p.a)((function(){return{root:{height:"100%"},flexContainer:{height:"100%"}}})),ae=function(){var e=te(),t=Object(r.useState)(Y),a=Object(m.a)(t,2),s=a[0],c=a[1],i=Object(r.useState)({response:"loading",message:"",payload:[]}),p=Object(m.a)(i,2),j=p[0],x=p[1],O=Object(r.useState)(""),k=Object(m.a)(O,2),C=k[0],_=k[1],P=X(C,500);Object(r.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){P&&(x(Object(o.a)({},j,{response:"loading"})),s===Y?V(P).then((function(e){x(Object(o.a)({},e))})):U(P).then((function(e){x(Object(o.a)({},e))})))}),[P]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(d.a,null),n.a.createElement(f.a,{position:"relative"},n.a.createElement(v.a,null,n.a.createElement(b.a,{variant:"h6"},"Movie searcher"))),n.a.createElement(f.a,{position:"relative",color:"default"},n.a.createElement(h.a,{container:!0},n.a.createElement(h.a,{item:!0,xs:12,sm:4},n.a.createElement(g.a,{classes:{root:e.root,flexContainer:e.flexContainer},indicatorColor:"primary",value:s,onChange:function(e,t){var a=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,x(Object(o.a)({},t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s!==t&&(x(Object(o.a)({},{response:"loading",payload:[]})),t===Y?a():x(Object(o.a)({},{response:"success",payload:[]})),_(""),c(t))},"aria-label":"simple tabs example"},n.a.createElement(E.a,Object.assign({label:"Movies"},ee(Y))),n.a.createElement(E.a,Object.assign({label:"Actors"},ee(Z))))),n.a.createElement(h.a,{item:!0,xs:12,sm:8},n.a.createElement(w,{value:C,onChange:function(e){_(e.target.value)}})))),n.a.createElement(N,{value:s,index:Y},"loading"===j.response?n.a.createElement(h.a,{container:!0,justify:"center"},n.a.createElement(y.a,null)):null,"success"===j.response?n.a.createElement(B,{list:j.payload}):null,"error"===j.response?j.message:null),n.a.createElement(N,{value:s,index:1},"loading"===j.response?n.a.createElement(h.a,{container:!0,justify:"center"},n.a.createElement(y.a,null)):null,"success"===j.response?n.a.createElement(W,{list:j.payload}):null,"error"===j.response?j.message:null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[68,1,2]]]);
//# sourceMappingURL=main.ae1a9291.chunk.js.map